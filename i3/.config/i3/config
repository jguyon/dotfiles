# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

# Use super key as modifier
set $mod Mod4

# Font for window titles and status bar
font pango:Iosevka Aile 10
set $dmenu-font Iosevka Aile-10

# Nord theme
# https://www.nordtheme.com/
set $nord0 #2e3440
set $nord1 #3b4252
set $nord2 #434c5e
set $nord3 #4c566a
set $nord4 #d8dee9
set $nord5 #e5e9f0
set $nord6 #eceff4
set $nord7 #8fbcbb
set $nord8 #88c0d0
set $nord9 #81a1c1
set $nord10 #5e81ac
set $nord11 #bf616a
set $nord12 #d08770
set $nord13 #ebcb8b
set $nord14 #a3be8c
set $nord15 #b48ead

# Start compositor
exec --no-startup-id compton

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork --color "$nord3"

# Setup background image
exec_always --no-startup-id feh --bg-fill ~/.config/i3/background.jpg

# Reload the configuration file
bindsym $mod+Shift+c reload

# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Start a terminal
bindsym $mod+Return exec i3-sensible-terminal

# Launch an application
bindsym $mod+space exec i3-dmenu-desktop --dmenu="dmenu -i -b -fn '$dmenu-font' -nb '$nord1' -nf '$nord4' -sb '$nord7' -sf '$nord0'"

# Kill focused window
bindsym $mod+Shift+q kill

# Change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Resize focused window
mode "resize" {
        # Shrink width
        bindsym h resize shrink width 5 px or 5 ppt
        # Grow height
        bindsym j resize grow height 5 px or 5 ppt
        # Shrink height
        bindsym k resize shrink height 5 px or 5 ppt
        # Grow width
        bindsym l resize grow width 5 px or 5 ppt

        bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Split in horizontal orientation
bindsym $mod+x split h

# Split in vertical orientation
bindsym $mod+v split v

# Toggle fullscreen mode for the focused window
bindsym $mod+f fullscreen toggle

# Toggle floating mode for the focused window
bindsym $mod+Shift+f floating toggle

# Change container layout
bindsym $mod+e layout toggle splith splitv tabbed stacking

# Focus the parent container
bindsym $mod+u focus parent

# Focus the child container
bindsym $mod+d focus child

# Workspace names
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Switch to workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# Control the session/system
mode "off" {
        # Exit the session
        bindsym e exec "i3-msg exit", mode "default"
        # Lock the session
        bindsym l exec "loginctl lock-session", mode "default"
        # Reboot the computer
        bindsym r exec "systemctl reboot", mode "default"
        # Power off the computer
        bindsym p exec "systemctl poweroff", mode "default"
        # Suspend the computer
        bindsym s exec "systemctl suspend", mode "default"

        bindsym Escape mode "default"
}
bindsym $mod+Escape mode "off"

# Control the audio
mode "audio" {
        # Volume down
        bindsym j exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
        # Volume up
        bindsym k exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
        # Mute
        bindsym m exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
        # Mute mic
        bindsym Shift+m exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

        bindsym Escape mode "default"
}
bindsym $mod+a mode "audio"

title_align center
default_border pixel 2
default_floating_border pixel 2

client.focused $nord9 $nord2 $nord8 $nord7 $nord9
client.focused_inactive $nord3 $nord2 $nord4 $nord7 $nord3
client.unfocused $nord3 $nord1 $nord4 $nord7 $nord3
client.urgent $nord12 $nord2 $nord13 $nord7 $nord12
client.placeholder $nord3 $nord0 $nord3 $nord7 $nord3
client.background $nord0

# Status bar
bar {
        status_command i3status
        position top
        separator_symbol " Â« "

        colors {
                background $nord0
                statusline $nord4
                separator $nord3
                focused_workspace $nord9 $nord2 $nord8
                active_workspace $nord3 $nord2 $nord4
                inactive_workspace $nord3 $nord1 $nord4
                urgent_workspace $nord12 $nord2 $nord13
        }
}
